%\documentclass[twoside,a4paper,ngerman, german,12pt,authoryear,openright]{book}
%\documentclass[twoside,english,12pt,authoryear,openright]{book}
\documentclass[twoside,12pt,authoryear,openright]{book}

!en \usepackage[english]{babel} 
!de \usepackage[ngerman]{babel} 

\usepackage{geometry} % see geometry.pdf on how to lay out the page. There's lots.
\geometry{a4paper} % or letter or a5paper or ... etc

\usepackage{graphicx}
\usepackage{pslatex}
\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc}
\usepackage{a4wide}
\usepackage{fancyhdr}
\usepackage{bookmark}


\usepackage{listings}
\usepackage{courier}
\usepackage{color}
\lstset{
         basicstyle=\scriptsize\ttfamily,         % Standardschrift
%         numbers=left,                           % Ort der Zeilennummern
         numberstyle=\tiny,                       % Stil der Zeilennummern
%         stepnumber=2,                           % Abstand zwischen den Zeilennummern
         numbersep=5pt,                           % Abstand der Nummern zum Text
         tabsize=4,                               % Groesse von Tabs
         extendedchars=true,                      %
%         breaklines=true,                        % Zeilen werden Umgebrochen
%         keywordstyle=\color{blue}\textbf,
         keywordstyle=\ttfamily,
%         frame=tblr,         
 %        keywordstyle=[1]\textbf,                % Stil der Keywords
 %        keywordstyle=[2]\textbf,                %
 %        keywordstyle=[3]\textbf,                %
 %        keywordstyle=[4]\textbf, \sqrt{\sqrt{}} %
%         stringstyle=\color{white}\ttfamily,     % Farbe der String
         showspaces=false,                        % Leerzeichen anzeigen ?
         showtabs=false,                          % Tabs anzeigen ?
         xleftmargin=17pt,
         framextopmargin=17pt,
%         framexleftmargin=17pt,
         framexleftmargin=3pt,
         framexrightmargin=5pt,
         framexbottommargin=4pt,
%         backgroundcolor=\color{lightgray},
         showstringspaces=true                    % Leerzeichen in Strings anzeigen ?        
 }
\lstset{language=C++}

\usepackage{hyperref}

!en \selectlanguage{english}
!de \selectlanguage{ngerman}

\pagestyle{fancy}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\setlength\parskip{\medskipamount}
\setlength\parindent{0pt}

\makeatletter
\makeatother

\newcommand{\at}{\textit{ATmega8} }

\begin{document}
\inputencoding{utf8}

!en \title{Cookbook for Assembly Programming with Arduino and plain 8bit Atmel AVR Micro Controllers}
!de \title{Assemblerkochbuch für Arduino und Atmel AVR Micro Controller}

\author{Felix Morgner and Manfred Morgner}


\maketitle

!en This book is ongoing work. If you find errors, typos, other mistakes, please get in touch with us. We are always happy to be shown better ways, clearer views, faster solutions, lesser errors ... you name it.

!de Dieses Buch ist ein lebendes Werk. Wenn Du Fehler findest kannst Du uns kontaktieren, wir versuchen dann, die Beule auszubeulen. Wir freuen und immer, wenn uns jemand hilft, unser Buch zu verbessern, uns bessere Wege zeigt, verständlichere Beschreibungen demonstriert, schnellere Lösungen einbringt, Fehler beseitigt ... was immer nötig ist um das beste Kochbuch aller Zeiten zu entwickeln.



!en If you wish to follow our ways, it would be a good idea to get a copy of ,ATMEL 8bit AVR instruction set manual':

!de Wenn Du in mit diesem Buch arbeiten willst, empfehlen wir mindestens die folgende Dokumentation herunter zu laden ,ATMEL 8bit AVR instruction set manual':

\url{http://www.atmel.com/dyn/resources/prod_documents/doc0856.pdf}



!en In our book we will not explain the commands we are using because all explanation is already worded out in the named document. Clearly we will discuss why we are using specific commands if there are known (as in the context of the book) alternatives.

!de In diesem Buch werden wir die verwendeten Befehle nicht grundlegend erklären. Diese Erläuterungen liegen bereits in der o.g. Dokumentation vor. Natürlich werden wir erläutern wieso wir bestimmte Befehle einsetzen wenn es, im Rahmen des Buches, offensichtliche Alternativen gäbe.



!en This book is mainly based on \at because we need to push aside micro controller model specifics. At some point we have to start to deal with this problem but we try to prevent this from happening as hard as we possibly can.

!de Dieses Buch verwendet für die Umsetzung entweder durchgehend oder überwiegend \at. Diese Einschränkung dient der Vereinfachung der Codebeispiele. Wir wollen und nicht in den Spezifika der Micro Controller Modelle verlieren und unnötig komplexen Quelltest produzieren.



!en We are more destined to show what can be made and done with a small micro controller. It's clear for us, that more powerful platforms are available for a similar price. But our believe is, that learning Assembler Programming leaves deeper traces if the result of ones work is amazing in face of the used hardware, like a music instrument out of a micro controller some wire and some resistors.

!de Es geht uns auch darum zu zeigen, was bereits mit kleinen Micro Controllern erreicht werden kann. Es ist uns klar, dass grössere, schnellere Micro Controller für ähnliche Preise angeboten werden. Wir sind allerdings der Meinung, dass es viel eindrücklicher ist, mit einem sehr kleinen Micro Controller eine überraschend grosse Aufgabe zu lösen, wie zum Beispiel ein Musikinstrument aus einem \at ein paar Drähten und ein paar Widerständen.



!en This book is about Assembler Programming. We do not share the view that Assembler Programming will rescue the world. Each programming language has its purpose and some of them are useful too. The reader of this book wishes to learn Assembler Programming by example and has a tendency to experiment with the real thing. We try to satisfy this kind of reader by keeping the circuits simple and so price and requirements low.

!de Dieses Buch dreht sich um Assemblerprogrammierung. Wir glauben nicht, das Assemblerprogramme die Welt retten werden. Jede Programmiersprache hat ihren Zweck und manche sind sogar sinnvoll. Der Leser dieses Buches möchte Assemblerprogrammierung anhand von Beispielen erlernen und experimentiert gern mit echter Hardware. Wir versuchen diese Lesergruppe zu bedienen indem wir versuchen, die Schaltungen einfach zu halten und die Kosten dafür niedrig.

\tableofcontents{}
\listoffigures{}
\listoftables{}

!en \part{Simple Samples}
!de \part{Einfache Beispiele}

!en \chapter{Light}
!de \chapter{Licht}

!en In this chapter we will demonstrate the basics of assembly programming with AVR Micro Controllers. These samples will only require the simplest of additional hardware. If you use an Arduino, you will need only a simple wire for the first examples and the very first example nothings more than a powered Arduino.

!de In diesem Kapitel demonstrieren wir die Grundlagen der Assemblerprogrammierung mit AVR Micro Controllern. In den Beispielen werden wir nur das Mindeste an Hardware verwenden. Für die ersten Beispiele wirst Du lediglich ein Stück Draht und Deinen mit Strom versorgten Arduino benötigen

\begin{figure}[htbp]
  \centering
  \includegraphics[width=120mm]{Media/www-arduino-cc_ArduinoUnoFront.jpeg}
  \caption{Arduino Uno}
  \label{ArduinoUnoFront}
\end{figure}


\begin{figure}[htbp]
  \centering
  \includegraphics[width=120mm]{LED/S000_let-there-be-light_Circuit_schema.png}
!en  \caption{Light - Schema}
!de  \caption{'Licht' Schaltplan}
  \label{atmega8-let-there-be-light-schema}
\end{figure}

If not, you may build a circuit like in figure \ref{atmega8-get-me-on-get-me-off-schema} on page \pageref{atmega8-get-me-on-get-me-off-schema}. The breadboard layout is shown in file \texttt{LED/S000\_LED-Basic-Circuit.fz} in Fritzing file format.

As you may find out, we are focused on Free and Open Source Software. All published program code here is Free Software, the book itself and all used attachments are as free as we allowed to make them.

Also we will prevent usage of non free 'things' as hard as we can. We will not force anyone to use non free products to follow our ways. On of our main goals is an intellectual contribution to the world of Free Thinking, Libre Software and cooperative work.


\input{LED/S000_let-there-be-light.tex}
\input{LED/S002_get-me-on-get-me-off.tex}
\input{LED/S004_stable-decisions.tex}
\input{LED/S006_stable-decisions-trigger.tex}
\input{LED/S010_light-shift.tex}


\chapter{Time}

\input{LED/S020_instable-elements.tex}


\part{External devices}

\chapter{Shift Registers}

\input{Shift-Register/S000_shift-sram.tex}

\end{document}
